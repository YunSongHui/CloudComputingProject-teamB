import requests
import re
import lxml.html
from bs4 import BeautifulSoup
import pandas

def crawling(page_count):
    front_url="http://www.jobkorea.co.kr/Starter/?JoinPossible_Stat=0&schOrderBy=0&LinkGubun=0&LinkNo=0&schType=0&schGid=0&Page="

    result=[]

    for i in range(1, page_count+1):
        url = front_url+str(i)

        temp_result=requests.get(url)
        root=lxml.html.fromstring(temp_result.content)
        for everything in root.cssselect('.filterList'):
            for thing in everything.cssselect('li'):
                t_url = thing.cssselect('.info .tit a')
                result.append(t_url[0].text_content())
                t_url = t_url[0].get('href')
                result.append(t_url)
                
                company = thing.cssselect('.co .coTit a')
                result.append(company[0].text)

    return result


def main():
    page_count = 1
    result=crawling(page_count)

    print(result)
    print()


main()
